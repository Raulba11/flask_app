<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Chat de prueba</title>
        <!-- Bootstrap -->
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
            crossorigin="anonymous">
        <!-- Custom css for chat pages -->
        <link rel="stylesheet" type="text/css" href="static/css/chat.css">
        
    </head>

    <body id = "body">
        <!-- Flash error messages -->
        {% with messages = get_flashed_messages() %}
        {% if messages %}
        <p class=formError>{{ messages[0] }}</p>
        {% endif %}
        {% endwith %}

        <div class="wrapper">

            <!-- Nav bar start -->
            <nav class="navbar navbar-expand-sm navbar-light fixed-top"
                style="background-color: #66a1ee">


                <div class="container-fluid">
                    <a class="navbar-brand"><span style="font-size:larger;
                            font-weight: bolder; color: black;">MyCal</span></a>
                    <div id="show-sidebar-button" class="cursor-pointer"
                        style="user-select: none;">
                        <i class="fas fa-plus-circle"></i>
                        <span>Salas</span>
                    </div>
                    <div class="collapse navbar-collapse"
                        id="navbarSupportedContent">
                        <ul class="navbar-nav ms-auto">
                            <li class="nav-item">
                                <a id="calendar-btn" class="nav-link" href="{{
                                    url_for('calendario') }}"><span
                                        style="font-weight: bold;">Calendario</span></a>
                            </li>
                            <li class="nav-item">
                                <a id="logout-btn" class="nav-link" href="{{
                                    url_for('logout') }}"><span
                                        style="font-weight: bold;">Logout</span></a>
                            </li>
                        </div>
                    </div>
                </nav>
                <!-- Nav bar end -->

                <!-- Main section start -->
                <div id="main-section">

                    <!-- Sidebar start -->
                    <nav id="sidebar">
                        <h3 style="text-align: center; border-bottom: 1px solid
                            white;">Salas</h3>
                        {% for room in rooms %}
                        <p style="text-align: center;" id="{{ room|title }}"
                            class="select-room cursor-pointer">{{ room|title }}</p>
                        {% endfor %}
                    </nav>
                    <!-- Sidebar end -->

                    <!-- Rightside pannel start -->
                    <div id="rightside-pannel">

                        <!-- Display message start-->
                        <div id="display-message-section">
                        </div>
                        <!-- Display message end -->

                        <!-- Type message start -->
                        <div id="input-area" class="input-group mb-3">
                            <input type="text" id="user_message"
                                class="form-control" placeholder="Type here..."
                                aria-label="Type a message"
                                aria-describedby="basic-addon2"
                                autocomplete="off">
                            <div class="input-group-append">
                                <button id="send_message" class="btn
                                    btn-warning" type="button">ENVIAR <i
                                        class="fas fa-paper-plane"></i></button>
                            </div>
                        </div>
                        <!-- Type message end -->
                    </div>
                    <!-- Rightside pannel end -->
                </div>
                <!-- Main section end -->
            </div>
            <!-- Wrapper end -->


            <!-- Get username -->
            <span id="get-username">{{ username }}</span>

            <!-- Custom chat JS -->
            <script src="static/JS/chat.js"></script>

            <!-- SocketIO JS -->
            <script src="https://cdn.socket.io/3.1.3/socket.io.min.js"
                integrity="sha384-cPwlPLvBTa3sKAgddT6krw0cJat7egBga3DJepJyrLl4Q9/5WLra3rrnMcyTyOnh"
                crossorigin="anonymous"></script>

            <!-- Custom SocketIO JS -->
            <script src="{{ url_for('static', filename='JS/socketio.js') }}"></script>
            <!-- Bootstrap -->
            <script
                src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
                integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
                crossorigin="anonymous"></script>
            <!-- Font Awesome JS -->
            <script defer
                src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
                integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
                crossorigin="anonymous"></script>
            <script defer
                src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
                integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
                crossorigin="anonymous"></script>

        </body>
    </html>